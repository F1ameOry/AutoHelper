import{ag as I,i as G,N as S}from"./index-B0PKo6bv.js";var ne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ae(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var se={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const ie={get:R("GET"),post:R("POST"),put:R("PUT"),delete:R("DELETE")};function R(c){return(l,m)=>{const $={method:c,headers:oe(l)};return m&&($.headers["Content-Type"]="application/json",$.body=JSON.stringify(m)),fetch(l,$).then(ue)}}function oe(c){const{user:l}=Q(),m=!!(l!=null&&l.token),$=c.startsWith(se.VITE_API_URL);return m&&$?{Authorization:`Bearer ${l.token}`}:{}}function ue(c){return c.text().then(l=>{const m=l&&JSON.parse(l);if(!c.ok){const{user:$,logout:C}=Q();[401,403].includes(c.status)&&$&&C();const A=m&&m.message||c.statusText;return Promise.reject(A)}return m})}var ce={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const de=`${ce.VITE_API_URL}/users`,Q=I({id:"auth",state:()=>({user:JSON.parse(String(localStorage.getItem("user"))),returnUrl:null,demo:!0}),actions:{async login(c,l){const m=await ie.post(`${de}/authenticate`,{username:c,password:l});this.user=m,localStorage.setItem("user",JSON.stringify(m)),G.push(this.returnUrl||"/")},logout(){this.user=null,localStorage.removeItem("user"),G.push("/login")}}});var X={exports:{}};(function(c,l){(function(m,$){c.exports=$()})(ne,function(){var m=1e3,$=6e4,C=36e5,A="millisecond",T="second",k="minute",H="hour",M="day",x="week",p="month",F="quarter",D="year",L="date",z="Invalid Date",K=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,ee=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,te={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(a){var r=["th","st","nd","rd"],e=a%100;return"["+a+(r[(e-20)%10]||r[e]||r[0])+"]"}},V=function(a,r,e){var n=String(a);return!n||n.length>=r?a:""+Array(r+1-n.length).join(e)+a},re={s:V,z:function(a){var r=-a.utcOffset(),e=Math.abs(r),n=Math.floor(e/60),t=e%60;return(r<=0?"+":"-")+V(n,2,"0")+":"+V(t,2,"0")},m:function a(r,e){if(r.date()<e.date())return-a(e,r);var n=12*(e.year()-r.year())+(e.month()-r.month()),t=r.clone().add(n,p),s=e-t<0,i=r.clone().add(n+(s?-1:1),p);return+(-(n+(e-t)/(s?t-i:i-t))||0)},a:function(a){return a<0?Math.ceil(a)||0:Math.floor(a)},p:function(a){return{M:p,y:D,w:x,d:M,D:L,h:H,m:k,s:T,ms:A,Q:F}[a]||String(a||"").toLowerCase().replace(/s$/,"")},u:function(a){return a===void 0}},U="en",_={};_[U]=te;var Z="$isDayjsObject",B=function(a){return a instanceof N||!(!a||!a[Z])},W=function a(r,e,n){var t;if(!r)return U;if(typeof r=="string"){var s=r.toLowerCase();_[s]&&(t=s),e&&(_[s]=e,t=s);var i=r.split("-");if(!t&&i.length>1)return a(i[0])}else{var u=r.name;_[u]=r,t=u}return!n&&t&&(U=t),t||!n&&U},f=function(a,r){if(B(a))return a.clone();var e=typeof r=="object"?r:{};return e.date=a,e.args=arguments,new N(e)},o=re;o.l=W,o.i=B,o.w=function(a,r){return f(a,{locale:r.$L,utc:r.$u,x:r.$x,$offset:r.$offset})};var N=function(){function a(e){this.$L=W(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[Z]=!0}var r=a.prototype;return r.parse=function(e){this.$d=function(n){var t=n.date,s=n.utc;if(t===null)return new Date(NaN);if(o.u(t))return new Date;if(t instanceof Date)return new Date(t);if(typeof t=="string"&&!/Z$/i.test(t)){var i=t.match(K);if(i){var u=i[2]-1||0,d=(i[7]||"0").substring(0,3);return s?new Date(Date.UTC(i[1],u,i[3]||1,i[4]||0,i[5]||0,i[6]||0,d)):new Date(i[1],u,i[3]||1,i[4]||0,i[5]||0,i[6]||0,d)}}return new Date(t)}(e),this.init()},r.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},r.$utils=function(){return o},r.isValid=function(){return this.$d.toString()!==z},r.isSame=function(e,n){var t=f(e);return this.startOf(n)<=t&&t<=this.endOf(n)},r.isAfter=function(e,n){return f(e)<this.startOf(n)},r.isBefore=function(e,n){return this.endOf(n)<f(e)},r.$g=function(e,n,t){return o.u(e)?this[n]:this.set(t,e)},r.unix=function(){return Math.floor(this.valueOf()/1e3)},r.valueOf=function(){return this.$d.getTime()},r.startOf=function(e,n){var t=this,s=!!o.u(n)||n,i=o.p(e),u=function(b,y){var w=o.w(t.$u?Date.UTC(t.$y,y,b):new Date(t.$y,y,b),t);return s?w:w.endOf(M)},d=function(b,y){return o.w(t.toDate()[b].apply(t.toDate("s"),(s?[0,0,0,0]:[23,59,59,999]).slice(y)),t)},h=this.$W,g=this.$M,v=this.$D,E="set"+(this.$u?"UTC":"");switch(i){case D:return s?u(1,0):u(31,11);case p:return s?u(1,g):u(0,g+1);case x:var O=this.$locale().weekStart||0,j=(h<O?h+7:h)-O;return u(s?v-j:v+(6-j),g);case M:case L:return d(E+"Hours",0);case H:return d(E+"Minutes",1);case k:return d(E+"Seconds",2);case T:return d(E+"Milliseconds",3);default:return this.clone()}},r.endOf=function(e){return this.startOf(e,!1)},r.$set=function(e,n){var t,s=o.p(e),i="set"+(this.$u?"UTC":""),u=(t={},t[M]=i+"Date",t[L]=i+"Date",t[p]=i+"Month",t[D]=i+"FullYear",t[H]=i+"Hours",t[k]=i+"Minutes",t[T]=i+"Seconds",t[A]=i+"Milliseconds",t)[s],d=s===M?this.$D+(n-this.$W):n;if(s===p||s===D){var h=this.clone().set(L,1);h.$d[u](d),h.init(),this.$d=h.set(L,Math.min(this.$D,h.daysInMonth())).$d}else u&&this.$d[u](d);return this.init(),this},r.set=function(e,n){return this.clone().$set(e,n)},r.get=function(e){return this[o.p(e)]()},r.add=function(e,n){var t,s=this;e=Number(e);var i=o.p(n),u=function(g){var v=f(s);return o.w(v.date(v.date()+Math.round(g*e)),s)};if(i===p)return this.set(p,this.$M+e);if(i===D)return this.set(D,this.$y+e);if(i===M)return u(1);if(i===x)return u(7);var d=(t={},t[k]=$,t[H]=C,t[T]=m,t)[i]||1,h=this.$d.getTime()+e*d;return o.w(h,this)},r.subtract=function(e,n){return this.add(-1*e,n)},r.format=function(e){var n=this,t=this.$locale();if(!this.isValid())return t.invalidDate||z;var s=e||"YYYY-MM-DDTHH:mm:ssZ",i=o.z(this),u=this.$H,d=this.$m,h=this.$M,g=t.weekdays,v=t.months,E=t.meridiem,O=function(y,w,Y,P){return y&&(y[w]||y(n,s))||Y[w].slice(0,P)},j=function(y){return o.s(u%12||12,y,"0")},b=E||function(y,w,Y){var P=y<12?"AM":"PM";return Y?P.toLowerCase():P};return s.replace(ee,function(y,w){return w||function(Y){switch(Y){case"YY":return String(n.$y).slice(-2);case"YYYY":return o.s(n.$y,4,"0");case"M":return h+1;case"MM":return o.s(h+1,2,"0");case"MMM":return O(t.monthsShort,h,v,3);case"MMMM":return O(v,h);case"D":return n.$D;case"DD":return o.s(n.$D,2,"0");case"d":return String(n.$W);case"dd":return O(t.weekdaysMin,n.$W,g,2);case"ddd":return O(t.weekdaysShort,n.$W,g,3);case"dddd":return g[n.$W];case"H":return String(u);case"HH":return o.s(u,2,"0");case"h":return j(1);case"hh":return j(2);case"a":return b(u,d,!0);case"A":return b(u,d,!1);case"m":return String(d);case"mm":return o.s(d,2,"0");case"s":return String(n.$s);case"ss":return o.s(n.$s,2,"0");case"SSS":return o.s(n.$ms,3,"0");case"Z":return i}return null}(y)||i.replace(":","")})},r.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},r.diff=function(e,n,t){var s,i=this,u=o.p(n),d=f(e),h=(d.utcOffset()-this.utcOffset())*$,g=this-d,v=function(){return o.m(i,d)};switch(u){case D:s=v()/12;break;case p:s=v();break;case F:s=v()/3;break;case x:s=(g-h)/6048e5;break;case M:s=(g-h)/864e5;break;case H:s=g/C;break;case k:s=g/$;break;case T:s=g/m;break;default:s=g}return t?s:o.a(s)},r.daysInMonth=function(){return this.endOf(p).$D},r.$locale=function(){return _[this.$L]},r.locale=function(e,n){if(!e)return this.$L;var t=this.clone(),s=W(e,n,!0);return s&&(t.$L=s),t},r.clone=function(){return o.w(this.$d,this)},r.toDate=function(){return new Date(this.valueOf())},r.toJSON=function(){return this.isValid()?this.toISOString():null},r.toISOString=function(){return this.$d.toISOString()},r.toString=function(){return this.$d.toUTCString()},a}(),q=N.prototype;return f.prototype=q,[["$ms",A],["$s",T],["$m",k],["$H",H],["$W",M],["$M",p],["$y",D],["$D",L]].forEach(function(a){q[a[1]]=function(r){return this.$g(r,a[0],a[1])}}),f.extend=function(a,r){return a.$i||(a(r,N,f),a.$i=!0),f},f.locale=W,f.isDayjs=B,f.unix=function(a){return f(1e3*a)},f.en=_[U],f.Ls=_,f.p={},f})})(X);var le=X.exports;const J=ae(le),he=I("cars1",()=>({demoCars1:S([{id:"demo1",brand:"BMW",model:"530d G30",mileageHistory:[{mileage:4798,reason:"Запись вручную",date:"23.02.2022"},{mileage:12958,reason:"Плановое ТО",date:"17.07.2022"},{mileage:19873,reason:"Плановое ТО",date:"15.12.2022"},{mileage:26748,reason:"Плановое ТО",date:"25.04.2023"},{mileage:33578,reason:"Плановое ТО",date:"27.09.2023"},{mileage:41937,reason:"Плановое ТО",date:"26.12.2023"},{mileage:49823,reason:"Плановое ТО",date:"28.06.2023"},{mileage:57093,reason:"Плановое ТО",date:"12.09.2023"},{mileage:66295,reason:"Ремонт задней подвескиПлановое ТО",date:"11.02.2024"},{mileage:73583,reason:"Плановое ТО",date:"25.05.2024"}],color:"black",type:"sedan",year:2019,vin:"000000000",lastService:J("05.25.2024"),lastServiceMileage:1972}]),cars1:[]})),me=I("cars2",()=>({demoCars2:S([{id:"demo2",brand:"Volkswagen",model:"Caravelle",mileageHistory:[{mileage:4798,reason:"Запись вручную",date:"12.02.2022"},{mileage:12958,reason:"Плановое ТО",date:"17.05.2022"},{mileage:19873,reason:"Плановое ТО",date:"03.08.2022"},{mileage:26748,reason:"Плановое ТО",date:"24.11.2022"},{mileage:33578,reason:"Плановое ТО",date:"27.01.2023"},{mileage:41937,reason:"Плановое ТО",date:"26.03.2023"},{mileage:49823,reason:"Плановое ТО",date:"28.06.2023"},{mileage:57093,reason:"Плановое ТО",date:"12.09.2023"}],color:"white",type:"van",year:2016,vin:"000000000",lastService:J("12.09.2023"),lastServiceMileage:7656}]),cars2:[]})),ge=I("cars3",()=>({demoCars3:S([{id:"demo3",brand:"Toyota",model:"Land Cruiser 200",mileageHistory:[{mileage:12958,reason:"Плановое ТО",date:"17.01.2021"},{mileage:19873,reason:"Плановое ТО",date:"05.05.2021"},{mileage:26748,reason:"Плановое ТО",date:"25.06.2021"},{mileage:33578,reason:"Плановое ТО",date:"14.10.2021"},{mileage:41937,reason:"Плановое ТО",date:"16.01.2022"},{mileage:49823,reason:"Плановое ТО",date:"28.06.2022"},{mileage:52475,reason:"Обслуживание подвески",date:"25.11.2022"},{mileage:57093,reason:"Плановое ТО",date:"27.03.2023"},{mileage:66295,reason:"Плановое ТО",date:"07.09.2023"},{mileage:73583,reason:"Запись вручную",date:"15.12.2023"},{mileage:80984,reason:"Неисправность",date:"12.01.2024"},{mileage:108159,reason:"Плановое ТО",date:"05.05.2024"}],color:"yellow",type:"suv",year:2012,vin:"000000000",lastService:J("05.05.2024"),lastServiceMileage:7416}]),cars3:[]})),$e=I("cars4",()=>({demoCars4:S([{id:"demo4",brand:"Mitsubishi",model:"Lancer X",mileageHistory:[{mileage:155555,reason:"Добавление Авто",date:"26.06.2024"}],color:"red",type:"sedan",year:2011,vin:"000000000",lastService:J("06.26.2024"),lastServiceMileage:0}]),cars4:[]})),ye=I("invoice",()=>{const c=S(""),l=S(0),m=S(),$=S(""),C=S(0);return{title:c,cost:l,date:m,comment:$,mileage:C}});export{me as a,ge as b,Q as c,ye as d,$e as e,ae as g,he as u};
